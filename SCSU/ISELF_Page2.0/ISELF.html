<html>
    <head>
        <title>St. Cloud State University</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta charset="UTF-8">
        <link href="../../VizLab/viz.css" rel="stylesheet">
        <style>

        </style>
    </head>
    <body>
        <a href="../home.html"><img src="../images/Vector-Smart-Object.png" class="backArrow"></a>
        <img src="../images/logo.png" class="BR">

        <!--<div class="GUI TR">-->
            <!--<img src="../images/GUI.png" class="TR">-->
            <!--<div class="btnGroup" id="floors">-->
                <!--<button id="first" class="top btn on">1st</button>-->
                <!--<button id="second" class="btn on">2nd</button>-->
                <!--<button id="third" class="btn on">3rd</button>-->
                <!--<button id="ext" class="bottom btn on">Ext.</button>-->
            <!--</div>-->
        <!--</div>-->

        <canvas id="threejs"></canvas>

        <div class="ISELF_GUI">
            <div>
                <img id="logo" class="ISELF_GUI" src="../images/noGlow.png">
            </div>

            <div id="firstPanel">
                <div class="firstLine"></div>
                <img id="first" src="../images/1stIcon.png">
            </div>

            <div id="secondPanel">
                <div class="secondLine"></div>
                <img id="second" src="../images/2ndIcon.png">
            </div>

            <div id="thirdPanel">
                <div class="thirdLine"></div>
                <img id="third" src="../images/3rdIcon.png">
            </div>

            <div id="ExtPanel">
                <div class="ExtLine"></div>
                <img id="Ext" src="../images/ExtIcon.png">
            </div>

            <div id="helpPanel">
                <div class="helpLine"></div>
                <img id="help" src="../images/QuestionIcon.png">
            </div>
        </div>


        <script src="../../assets/plugins/jquery-1.11.2.min.js"></script>
        <script src="../../THREE/three.min.js"></script>
        <script src="https://dl.dropboxusercontent.com/u/3587259/Code/Threejs/OrbitControls.js"></script>
        <script src="../../THREE/MTLLoader.js"></script>
        <script src="../../THREE/OBJMTLLoader.js"></script>
        <script src="./ISELF_GUI.js"></script>
        <script src="./ISELF.js"></script>
        <script>
            var GUI = $('.ISELF_GUI'), logo = $('#logo'), toggle = 0;
            var first = $('#first'), firstLine = $('.firstLine'), 
                    second = $('#second'), secondLine = $('.secondLine'),
                    third = $('#third'), thirdLine = $('.thirdLine'),
                    Ext = $('#Ext'), ExtLine = $('.ExtLine'),
                    help = $('#help'), helpLine = $('.helpLine');
            var speedInOut = 300, riverSpeed = [155, 310, 465, 620], fadeInSpeed = 200, fadeOutSpeed = 200, opacity = .5;
            var startTime, lastTime = 0, deltaTime;


            positionGUI();
            function positionGUI(){
                var width = window.innerWidth;

                GUI[0].style.left = ((width / 2) - (GUI[0].clientWidth / 2)).toString() + 'px';
                GUI[0].style.bottom = '0';
            }
            
            
            
            
            logo.click(function(){
                startTime = (new Date()).getTime();

                if(!deltaTime){
                    deltaTime = 800;
                }
                else{
                    deltaTime = startTime - lastTime;
                }

                if(deltaTime > 799){
                    if(toggle % 2 == 0){
                        logo.removeClass('rotateBackward');
                        logo.addClass('rotateForward');
                        slideOut();
                    }
                    else{
                        logo.removeClass('rotateForward');
                        logo.addClass('rotateBackward');
                        slideIn();
                    }

                    toggle++;
                }

                lastTime = startTime;
            });
            
            
            
            function slideOut(){
                first.animate({
                    left: '0'
                }, speedInOut);
                setTimeout(function(){
                    firstLine.fadeTo(fadeOutSpeed, opacity);
                }, speedInOut / 2);

                setTimeout(function(){
                    second.animate({
                        left: '0'
                    }, speedInOut);
                }, riverSpeed[0]);

                setTimeout(function(){
                    secondLine.fadeTo(fadeOutSpeed, opacity);
                }, (speedInOut / 2) + riverSpeed[0]);

                setTimeout(function(){
                    third.animate({
                        top: '0'
                    }, speedInOut);
                }, riverSpeed[1]);

                setTimeout(function(){
                    thirdLine.fadeTo(fadeOutSpeed, opacity);
                }, (speedInOut / 2) + riverSpeed[1]);

                setTimeout(function(){
                    Ext.animate({
                        right: '0'
                    }, speedInOut);
                }, riverSpeed[2]);

                setTimeout(function(){
                    ExtLine.fadeTo(fadeOutSpeed, opacity);
                }, (speedInOut / 2) + riverSpeed[2]);

                setTimeout(function(){
                    help.animate({
                        right: '0'
                    }, speedInOut);
                }, riverSpeed[3]);

                setTimeout(function(){
                    helpLine.fadeTo(fadeOutSpeed, opacity);
                }, (speedInOut / 2) + riverSpeed[3]);
            }



            function slideIn(){
                helpLine.fadeTo(fadeInSpeed, 0);
                setTimeout(function(){
                    help.animate({
                        right: '240px'
                    }, speedInOut);
                }, 10);

                setTimeout(function(){
                    ExtLine.fadeTo(fadeInSpeed, 0);
                    setTimeout(function(){
                        Ext.animate({
                            right: '240px'
                        }, speedInOut);
                    }, 10);}, riverSpeed[0]);

                setTimeout(function(){
                    thirdLine.fadeTo(fadeInSpeed, 0);
                    setTimeout(function(){
                        third.animate({
                            top: '240px'
                        }, speedInOut);
                    }, 10);}, riverSpeed[1]);

                setTimeout(function(){
                    secondLine.fadeTo(fadeInSpeed, 0);
                    setTimeout(function(){
                        second.animate({
                            left: '240px'
                        }, speedInOut);
                    }, 10);}, riverSpeed[2]);

                setTimeout(function(){
                    firstLine.fadeTo(fadeInSpeed, 0);
                    setTimeout(function(){
                        first.animate({
                            left: '240px'
                        }, speedInOut);
                    }, 10);}, riverSpeed[3]);
            }
        </script>
    </body>
</html>