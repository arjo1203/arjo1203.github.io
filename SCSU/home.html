<htmL>
    <head>
        <link href="../flipClock/flipclock.css" rel="stylesheet">
        <link href="../VizLab/viz.css" rel="stylesheet">
        <link href="./homePage/slideOutToCorners.css" rel="stylesheet">
    </head>
    <body class="homeBackGround">
    <div id="clock"></div>

    <div id="glowDiv">
        <img id="glow" src="./images/OuterGlow.png">
    </div>

    <div class="logoContainer">
        <div id="logo">
            <img id="homeLogo" class="homeLogo" src="./images/noGlow.png">
        </div>

        <div id="buttons">
            <div class="btnDiv" id="videos">
                <a class="link2" id="newVideo" href="./VideosPage/video.html">Videos</a>
            </div>
            <div class="btnDiv" id="ISELF">
                <a class="link2" id="newISELF" href="./ISELF_Page2.0/ISELF.html">ISELF</a>
            </div>
            <div class="btnDiv" id="Campus">
                <a class="link2" id="newCampus" href="./Campus_3D/campus_3D.html">Campus</a>
            </div>
            <div class="btnDiv" id="Projects">
                <a class="link2" id="newProjects" href="#">Projects</a>
            </div>
        </div>
    </div>

    <script src="../assets/plugins/jquery-1.11.2.min.js"></script>
    <script src="../flipClock/flipclock.min.js"></script>
    <script>
        window.addEventListener('resize', onWindowResize, false);

        var clock = $('#clock').FlipClock({
            clockFace: 'TwelveHourClock',
            showSeconds: false
        });

        var videos = $('#videos'), ISELF = $('#ISELF'), Campus = $('#Campus'), Projects = $('#Projects'), logo = $('#homeLogo'), counter = 0;
        var clickMe = $('#clickMe'), logoDiv = $('.logoContainer'), glowDiv = $('#glowDiv'), TR = $('#TR'), BR = $('#BR'), TL = $('#TL'), BL = $('#BL');
        var glowing;



        logo.click(function(){
            if(counter % 2 == 0){
                stopGlowing();
                logo.removeClass('rotateBackward');
                logo.addClass('rotateForward');
                slideOut();
            }
            else{
                animateGlow();
                logo.removeClass('rotateForward');
                logo.addClass('rotateBackward');
                slideIn();
            }

            counter++;
        });




        centerLogo();
        function centerLogo(){
            var width = window.innerWidth, height = window.innerHeight;
            console.log(logoDiv[0].clientHeight);

            logoDiv[0].style.left = ((width / 2) - (logoDiv[0].clientWidth / 2)).toString() + 'px';
            logoDiv[0].style.top = ((height / 2) - (logoDiv[0].clientHeight / 2)).toString() + 'px';

            glowDiv[0].style.left = ((width / 2) - (glowDiv[0].clientWidth / 2)).toString() + 'px';
            glowDiv[0].style.top = ((height / 2) - (glowDiv[0].clientHeight / 2)).toString() + 'px';
        }




        function slideOut(){
            videos.animate({
                left: '470px',
                top: '15px'
            }, 400);

            setTimeout(function(){
                ISELF.animate({
                    left: '470px',
                    top: '318px'
                }, 400);
            }, 150);

            setTimeout(function(){
                Projects.animate({
                    right: '485px',
                    top: '318px'
                }, 400);
            }, 300);

            setTimeout(function(){
                Campus.animate({
                    right: '483px',
                    top: '15px'
                }, 400);
            }, 450);
        }



        function slideIn(){
            Campus.animate({
                right: '150px',
                top: '150px'
            }, 400);

            setTimeout(function(){
                Projects.animate({
                    right: '150px',
                    top: '150px'
                }, 400);
            }, 150);

            setTimeout(function(){
                ISELF.animate({
                    left: '150px',
                    top: '150px'
                }, 400);
            }, 300);

            setTimeout(function(){
                videos.animate({
                    left: '150px',
                    top: '150px'
                }, 400);
            }, 450);
        }

        //            animateClickMe();
        //            setInterval(animateClickMe, 5000);

        //            animateLogo();
        //            setInterval(animateLogo, 2000);



        function animateClickMe(){
            grow(clickMe, '200px', '200px', '65px', '0', 1000);

            setTimeout(function(){
                shrink(clickMe, '80px', '80px', '130px', '0', 1000);
            }, 1000);
        }



        function animateLogo(){
            grow(logo, '450px', '450px', '0', '0', '0', '0', 2000);

            setTimeout(function(){
                shrink(logo, '380px', '380px', '0', '0', '0', '0', 1000);
            }, 1000);
        }



        function grow(element, width, height, left, right, time){
            element.animate({
                width: width,
                height: height,
                left: left,
                right: right
            }, time);
        }




        function shrink(element, width, height, left, right, time){
            element.animate({
                width: width,
                height: height,
                left: left,
                right: right
            }, time);
        }



        animateGlow();
        function animateGlow(){
            glow();
            glowing = setInterval(glow, 2000);
        }


        function stopGlowing(){
            clearInterval(glowing);
            glowDiv.fadeTo(500, 1);
        }

        function glow(){
            glowDiv.fadeTo(1000, 0);

            setTimeout(function(){
                glowDiv.fadeTo(1000, 1);
            }, 1000);
        }



        function onWindowResize(){
            centerLogo();
        }
    </script>
    </body>
</htmL>